<div>
<tal:block replace="">
<!--

Creative Commons has made the contents of this file
available under a CC-GNU-GPL license:

 http://creativecommons.org/licenses/GPL/2.0/

 A copy of the full license can be found as part of this
 distribution in the file LICENSE.TXT

You may use the ccHost software in accordance with the
terms of that license. You agree that you are solely 
responsible for your use of the ccHost software and you
represent and warrant to Creative Commons that your use
of the ccHost software will comply with the CC-GNU-GPL.

$Id$


To see this file create a link to: media/viewfile/picks.xml

-->
</tal:block>
<style>
table.statstable {
  border: 3px solid #559;
  background-color: #DDE;
  margin: 5px;
  float:left;
}

.shead {
  background-color: #559;
  color: white;
  padding: 2px 1px 2px 1px;
  }
</style>

<!-- h1>ccMixter stats (beta)</h1 -->

<tal:block define="total_uploads php:cc_stats_total_uploads();" />
<tal:block define="total_remixes php:cc_stats_total_uploads('remix');" />
<tal:block define="total_pells   php:cc_stats_total_uploads('acappella');" />
<tal:block define="total_orgs    php:cc_stats_total_uploads('original');" />
<tal:block define="total_samps   php:cc_stats_total_uploads('sample');" />
<tal:block define="rtotal_pells   php:cc_stats_percent_remixed('acappella');" />
<tal:block define="rtotal_orgs    php:cc_stats_percent_remixed('original');" />
<tal:block define="rtotal_samps   php:cc_stats_percent_remixed('sample');" />

<table class="statstable" style="float:left">
<tr><th class="shead" colspan="3">Overall Stats</th></tr>
<tr><th></th><th></th><th>Remixed</th></tr>
<tr><td>Total uploads:</td><td>${total_uploads}</td><td></td></tr>
<tr><td>Remixes:</td><td>${total_remixes}</td><td></td></tr>
<tr><td>A Cappellas:</td><td>${total_pells}</td><td>${rtotal_pells/percent}%</td></tr>
<tr><td>Samples:</td><td>${total_samps}</td><td>${rtotal_samps/percent}%</td></tr>
<tr><td>Fully Mixed:</td><td>${total_orgs}</td><td>${rtotal_orgs/percent}%</td></tr>
</table>

<table class="statstable">
<tr><th class="shead" colspan="3">Most Sampled Artists</th></tr>
<tr><th>Aritst</th><th>Sampled</th></tr>
<tal:block repeat="smpld php:cc_stats_most_remixed()" >
  <tr><td><a class="cc_user_link" href="${smpld/artist_page_url}">${smpld/user_real_name}</a></td>
  <td>${smpld/num_remixed}</td></tr>
</tal:block>
</table>

<table class="statstable">
<tr><th class="shead" colspan="2">Uploads by Month</th></tr>
<tr><th>Month</th><th>Uploads</th></tr>
<tal:block repeat="mostat php:cc_stats_uploads_by_month()">
<tr><td>${mostat/month}:</td><td>${mostat/c}</td></tr>
</tal:block>
</table>

<table class="statstable">
<tr><th class="shead" colspan="2">Signups by Month</th></tr>
<tr><th>Month</th><th>Signups</th></tr>
<tal:block repeat="mostat php:cc_stats_signups_by_month('2004-09')">
<tr><td>${mostat/month}:</td><td>${mostat/c}</td></tr>
</tal:block>
</table>

<table class="statstable">
<tr><th class="shead" colspan="2">Most Remixes</th></tr>
<tr><th>Artist</th><th>Remixes</th></tr>
<tal:block repeat="a php:cc_stats_most_of_type('remix')">
<tr><td><a href="${a/artist_page_url}" class="cc_user_link">${a/user_real_name}</a></td><td>${a/c}</td></tr>
</tal:block>
</table>

<table class="statstable">
<tr><th class="shead" colspan="2">Most Editor's Picks</th></tr>
<tr><th>Artist</th><th>Picks</th></tr>
<tal:block repeat="a php:cc_stats_most_of_type('editorial_pick',7)">
<tr><td><a href="${a/artist_page_url}" class="cc_user_link">${a/user_real_name}</a></td><td>${a/c}</td></tr>
</tal:block>
</table>

<table class="statstable">
<tr><th class="shead" colspan="3">Most Remixed A Cappellas</th></tr>
<tr><th>Name</th><th>Aritst</th><th>Remixed</th></tr>
<tal:block repeat="pellrmx php:cc_stats_remixes_of_type('acappella')" >
  <tr><td><a class="cc_file_link" href="${pellrmx/file_page_url}" 
             tal:content="php: CC_strchop('$pellrmx/upload_name',30)" /></td>
  <td><a class="cc_user_link" href="${pellrmx/artist_page_url}">${pellrmx/user_real_name}</a></td>
  <td>${pellrmx/num_remixed}</td></tr>
</tal:block>
</table>


</div>
