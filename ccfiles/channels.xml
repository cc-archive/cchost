<tal:block>
<tal:block replace="">
<!--

Creative Commons has made the contents of this file
available under a CC-GNU-GPL license:

 http://creativecommons.org/licenses/GPL/2.0/

 A copy of the full license can be found as part of this
 distribution in the file LICENSE.TXT

You may use the ccHost software in accordance with the
terms of that license. You agree that you are solely 
responsible for your use of the ccHost software and you
represent and warrant to Creative Commons that your use
of the ccHost software will comply with the CC-GNU-GPL.

$Id$

-->
</tal:block>
<style>
.cvalue {
  display:none;
}

.cbutton {
  margin: 2px;
  padding: 2px;
}

.cbutton_selected {
  background-color: #EEF;
  color: #006;
}

#channel_form td {
  vertical-align: top;
}
</style>
<h1 tal:content="php:_('Remix Radio');" />
<form id="channel_form">
<table cellpadding="0" cellspacing="0" id="outerframe">
<tr><td style="width:510px">

<div id="djback">

<table cellpadding="0" cellspacing="0">
<tr><td id="cell1">

<div id="channel_intro">
 <h3 tal:content="php: _('Create Your Own Remix Radio Station');" />
 <p tal:content="php: _('Create your own stream or podcast from a random pool of remixes in ${site-title} by selecting a style and other choices.');" /> 
</div>

</td></tr>
<tr><td id="cell2">

<tal:block define="channels php: CC_get_config('channels');" />
<table id="channels" cellspacing="0" cellpadding="0">
  <tal:block define="channel_rows php:array_chunk(${channels},5);" />
  <tal:block repeat="R channel_rows">
  <tr>
    <tal:block repeat="C R">
       <tal:block define="T php:str_replace(',','+',${C/tags});" />
       <tal:block define="K string:tags$repeat/R/key$repeat/C/key" />
       <td><div id="${K}" class="cbutton">${C/text}<span id="cvalue_${K}" class="cvalue">${T}</span></div></td>
    </tal:block>
  </tr>
  </tal:block>
</table>

</td></tr>
<tr><td id="cell3">

<table  cellspacing="0" cellpadding="0" id="options">
  <tr>
    <td>
      <span class="opt_label" tal:content="php:_('Ratings:')" />
      <select id="score" name="score">
        <option value="500">5</option>
        <option value="450" tal:content="php: _('4.5 or above');" />
        <option value="400"  selected="selected" tal:content="php: _('4 or above');" />
        <option value="350" tal:content="php: _('3.5 or above');" />
        <option value="300" tal:content="php: _('3.0 or above');" />
        <option value="0" tal:content="php: _('all');" />
      </select>
    </td>
    <td>
      <span class="opt_label" tal:content="php:_('Since:')" />
      <tal:block define="oneday php:strtotime('1 day ago');" />
      <tal:block define="oneweek php:strtotime('1 week ago');" />
      <tal:block define="twoweeks php:strtotime('2 weeks ago');" />
      <tal:block define="onemonth php:strtotime('1 month ago');" />
      <tal:block define="threemonths php:strtotime('3 months ago');" />
      <tal:block define="oneyear php:strtotime('1 year ago');" />
      <select id="sinceu" name="sinceu">
        <option value="${oneday}" tal:content="php: _('Yesterday');" />
        <option value="${oneweek}" tal:content="php: _('Last week');" />
        <option value="${twoweeks}" tal:content="php: _('2 weeks ago');" />
        <option value="${onemonth}" tal:content="php: _('Last month');" />
        <option value="${threemonths}" selected="selected" tal:content="php: _('3 months ago');" />
        <option value="${oneyear}" tal:content="php: _('Last year');" />
        <option value="0" tal:content="php: _('all time');" />
      </select>
    </td>
    <td>
      <span class="opt_label" tal:content="php:_('This many:')" />
      <select id="limit" name="limit">
        <option value="10">10</option>
        <option value="25" selected="selected">25</option>
        <option value="50" >50</option>
        <option value="100">100</option>
        <option value="200">200</option>
      </select> 
    </td>
    <td style="width:40%">
     <div id="gobuttons" style="">
       <div class="cc_stream_page_link"><a href="" id="streamlink"><span tal:content="php: _('Stream Now');" /></a></div>
       <div class="cc_podcast_link"><a href="" id="podlink"><span tal:content="php: _('Podcast');" /></a></div>
     </div>
     <div id="countresults"></div>
    </td>
  </tr>
</table>

</td></tr>

</table>

</div>

</td>
<td>

<div id="playlist_target" >

   <div id="playlist">
   </div>

</div>

</td></tr>
</table>

</form>

<script>
baseCmd = '${home-url}api/query';
sitePromoTag = '<tal:block condition="exists:site_promo_tag">${site_promo_tag}</tal:block>';
</script>
<script src="${root-url}cctemplates/radio.js" ></script>

</tal:block>
