<div id="cc_list">
 <table>
  <tal:block define="by php:_('by');" /> 
  <tal:block  repeat="R records">
  <tr >
    <td class="cc_list_fileinfo">
     <div class="cc_list_upstream" tal:condition="exists: R/remix_parents">
        <span class="cc_list_upstream_title" tal:content="php: _('Samples from');" />:<br /> 
        <tal:block repeat="P R/remix_parents">
          <tal:block define="upname php: CC_strchop('${P/upload_name}',${chop},${dochop});" />
          <tal:block define="user   php: CC_strchop('${P/user_real_name}',${chop},${dochop});" />
          <a href="${P/file_page_url}"   class="cc_file_link">${upname}</a> ${by}
          <a href="${P/artist_page_url}" class="cc_user_link">${user}</a><tal:block condition="not: repeat/P/end">, </tal:block>
        </tal:block>
     </div>
     <div>
        <tal:block define="upname php: CC_strchop('${R/upload_name}',${chop},${dochop});" />
        <tal:block define="user   php: CC_strchop('${R/user_real_name}',${chop},${dochop});" />
        <a href="${R/license_url}" 
          title="${R/license_name}" class="cc_liclogo">
            <img src="${root-url}ccimages/lics/small-${R/license_logo}" />
        </a>
        <a class="cc_file_link" href="${R/file_page_url}">
          ${upname}
        </a> ${by}
        <a class="cc_user_link" href="${R/artist_page_url}" >
          ${user}
        </a>
        <span class="cc_upload_date">
          ${R/upload_date_format}
        </span>
        <a tal:condition="R/files/0/download_url" 
            class="cc_download_url" 
            href="${R/files/0/download_url}">
            ${R/files/0/file_nicname}
        </a>
     </div>
     <tal:block condition="exists: R/usertag_links" define="tag_array  R/usertag_links">
       <div tal:condition="exists: tag_array" class="cc_tags">
          <metal:block use-macro="tags.xml/taglinks" />
       </div>
     </tal:block>
     <div tal:condition="R/upload_description_html" class="cc_description" >
       ${R/upload_description_html}
     </div>
    </td>
  </tr>
  <tr>
    <td>
    </td>
  </tr>
  </tal:block>
 </table>
 <i class="cc_tagline">
    <tal:block define="format_signature format_sig | string:format_signature.xml/signature" />
    <metal:block use-macro="${format_signature}" />
 </i>
</div>
